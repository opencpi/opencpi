<Protocol> 
  <!--
    * This message contains the actual data payload of the protocol. Messages can be from 0 to 4092 samples
    * in length.
  -->
  <Operation name="samples" >
   <Argument name="iq" type="struct" sequencelength="4092"><!--Change to 4096 when AV-2524/5 are resolved-->
     <Member name="I" type="short"/>
     <Member name="Q" type="short"/>
   </Argument>
  </Operation>

  <!--
    * In a receive stream, this message is a timestamp for the first sample of the sample message that 
    * directly follows. Subsequent samples messages are assumed to be contiguous with the previous message
    * until the next time message appears. In a receive stream, this message is generated by the ADC and 
    * should be passed on by all workers in the receive stream.  In a transmit stream, this message is a 
    * requested time to transmit the samples message that follows it. In a transmit stream, this message 
    * is generated by whichever worker is generating data and should be passed on by all workers in the data 
    * stream.    
  -->
  <Operation name="time">
   <Argument name="fract_sec" type="ulong"/>
   <Argument name="sec" type="ulong"/>
  </Operation>

  <!--
    * The value that is passed in this operation is the time between samples. The format is Q0.64. This 
    * may be used by workers if they need to calculate the time of a sample that is not the first in a 
    * message.  This operation is generated by the worker that generates data in the data stream. This 
    * message should be passed on by all workers in the data stream. 
  -->
  <Operation name="interval">
   <!-- 1/sample_rate -->
   <Argument name="delta_time" type="ulonglong"/>
  </Operation>

  <!--
    * This message causes all output data, produced based on data received prior to this flush operation,
    * for any output ports whose data depends on this port's input data, to be produced on those output 
    * ports, independent of the presence any additional input data after this flush operation. For example,
    * a FIR filter worker with non-zero group delay will empty its pipeline of samples data before passing 
    * along the flush message. If the protocol on an output port includes this same flush operation, then 
    * a flush operation should also be sent on that port after all the data has been sent.
  -->
  <Operation name="flush"/>

  <!-- 
    * Used to signify a time discontinuity in data.  Filters may need to be reset in this case.  This operation
    * would be generated by whichever worker generates the data in the stream.  This is an advanced 
    * option and may not be used by all applications but this message should be passed on by all  
    * workers in the data stream.
  -->
  <Operation name="sync"/>

  <!--
    * User-defined metadata operation. This operation can be used to append information to the data stream. 
    * (e.g. burst framing, front end parameter change indicators) This is an advanced option and may not be
    * used by all applications but this message should be passed on by all workers in the data stream.
  -->
  <Operation name="user">
    <Argument name="uuid" type="ulonglong"/>
    <Argument name="metadata" type="long" sequencelength="2048"/>
  </Operation>
</Protocol>
