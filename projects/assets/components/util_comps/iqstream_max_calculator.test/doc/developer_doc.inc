%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% this file was generated by docGen.py
% this file is intended to be edited
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{Summary - \Comp}
% Make table whose width is equal to which will be used for text
% wrapping, split into 2 equal columns
\begin{longtable}{|p{\dimexpr0.5\textwidth-2\tabcolsep\relax}
                  |p{\dimexpr0.5\textwidth-2\tabcolsep\relax}|}
  \hline
  \rowcolor{blue}
  & \\
  \hline
  Name              & \comp \\
  \hline
  Latest Version    &  v1.5 (release date 4/2019) \\
  \hline
  Worker Type       & Application                                                                    \\
  \hline
  Component Library &  ocpi.assets.util\_comps \\
  \hline
  Workers           &  \comp.hdl, \comp.rcc \\
  \hline
  Tested Platforms  &  ml605, centos7 \\
  \hline
\end{longtable}

\section*{Functionality}
\subsection*{in/out ports}
Messages are passed directly from the \verb+in+ port to the \verb+out+ port. Backpressure is transfered to the \verb+in+ port from the \verb+out+ port.
\subsection*{max\_I\_is\_valid Property}
Indicates \verb+max_I+ is valid. Will be false if no data has
                       been received on \verb+in\verb+ port since either a) the last read of
                       \verb+max_I+ or b) the worker first went into the operating
                       state.
\subsection*{max\_Q\_is\_valid Property}
Indicates \verb+max_Q+ is valid. Will be false if no data has
                       been received on \verb+in+ port since either a) the last read of
                       \verb+max_I+ or b) the worker first went into the operating
                       state.
\subsection*{max\_I Property}
Max I value observed on \verb+in+ port. Value will be -32768
                       when worker first enters the operating state and will be
                       reset to -32768 after each read. \verb+max_I_is_valid+ should
                       always be read prior to reading this property because
                       \verb+max_I_is_valid+ will immediately be set to false once
                       \verb+max_I+ is read.
\subsection*{max\_Q Property}
Max Q value observed on \verb+in+ port. Value will be -32768
                       when worker first enters the operating state and will be
                       reset to -32768 after each read. \verb+max_Q_is_valid+ should
                       always be read prior to reading this property because
                       \verb+max_I_is_valid+ will immediately be set to false once
                       \verb+max_Q+ is read.

\section*{Worker Implementation Details}
\subsection*{\comp.hdl}
The \comp.hdl worker has \verb+IDATA_WIDTH_p+ and \verb+ODATA_WIDTH_p+ parameter properties which facilitate the build parameterization of DataWidth of the \verb+in+ and \verb+out+ ports.

%\section*{Theory}
%\begin{flushleft}
%\end{flushleft}

\section*{Block Diagrams}
\subsection*{Top level}
\subsection*{\comp.rcc}
\begin{center}
  \begin{tikzpicture}[% List of styles applied to all, to override specify on a case-by-case
      every node/.style={
        align=center,     % use this so that the "\\" for line break works
        minimum size=2cm  % creates space above and below text in rectangle
      },
      every edge/.style={draw,thick}
    ]
    \node[rectangle,ultra thick,draw=black,fill=blue](R2){\Comp};
    \node[rectangle,draw=white,fill=white](R3)[left= of R2]{``in'' \\ iqstream\_protocol \\ (complex signed Q0.15 samples) };
    \node[rectangle,draw=white,fill=white](R4)[right= of R2]{``out'' \\ iqstream\_protocol \\ (complex signed Q0.15 samples) };
    \node[rectangle,draw=white,fill=white](R5)[above= of R2]{\verb+max_I_is_valid+, \\ \verb+max_Q_is_valid+, \\ \verb+max_I+, \\ \verb+max_Q+};
    \path[->]
    (R3)edge [] node [] {} (R2)
    (R2)edge [] node [] {} (R4)
    (R2)edge [] node [] {} (R5)
    (R5)edge [] node [] {} (R2)
    ;
  \end{tikzpicture}
\end{center}
\subsection*{\comp.hdl}
\begin{center}
  \begin{tikzpicture}[% List of styles applied to all, to override specify on a case-by-case
      every node/.style={
        align=center,     % use this so that the "\\" for line break works
        minimum size=2cm  % creates space above and below text in rectangle
      },
      every edge/.style={draw,thick}
    ]
    \node[rectangle,ultra thick,draw=black,fill=blue](R2){\verb+IDATA_WIDTH_p+, \verb+ODATA_WIDTH_p+ \\ \\ \Comp};
    \node[rectangle,draw=white,fill=white](R3)[left= of R2]{``in'' \\ iqstream\_protocol \\ (complex signed Q0.15 samples) };
    \node[rectangle,draw=white,fill=white](R4)[right= of R2]{``out'' \\ iqstream\_protocol \\ (complex signed Q0.15 samples) };
    \node[rectangle,draw=white,fill=white](R5)[above= of R2]{\verb+max_I_is_valid+, \\ \verb+max_Q_is_valid+, \\ \verb+max_I+, \\ \verb+max_Q+};
    \path[->]
    (R3)edge [] node [] {} (R2)
    (R2)edge [] node [] {} (R4)
    (R2)edge [] node [] {} (R5)
    (R5)edge [] node [] {} (R2)
    ;
  \end{tikzpicture}
\end{center}\pagebreak

%\subsection*{State Machine}
%\begin{flushleft}
%\end{flushleft}

\section*{Source Dependencies}
\subsection*{\comp.rcc}
assets/components/util\_comps/\comp.hdl/\comp.cc
\subsection*{\comp.hdl}
assets/components/util\_comps/\comp.hdl/\comp.vhd

\begin{landscape}
  \input{component_spec_properties.inc} % it is recommended to NOT remove this line

  \input{worker_properties.inc} % it is recommended to NOT remove this line

  \input{component_ports.inc} % it is recommended to NOT remove this line

  \input{worker_interfaces.inc} % it is recommended to NOT remove this line
\end{landscape}

\section*{Control Timing and Signals}
\subsection*{\comp.hdl}
Data is passed from the input port to the output port with the minimum possible latency.

\begin{landscape}
\section*{Worker Configuration Parameters}
\subsubsection*{\comp.hdl}
\input{../../iqstream_max_calculator.hdl/configurations.inc}
\section*{Performance and Resource Utilization}
\subsubsection*{\comp.rcc}
\subsubsection*{\comp.hdl}
\input{../../iqstream_max_calculator.hdl/utilization.inc}
\end{landscape}


\section*{Test and Verification}
\begin{flushleft}
No unit test for this component exists. However, a hardware-in-the-loop
application (which is NOT a unit test) exists for testing purposes (see
assets/applications/iqstream\_max\_calculator\_test).
\end{flushleft}
