\iffalse
This file is protected by Copyright. Please refer to the COPYRIGHT file
distributed with this source distribution.

This file is part of OpenCPI <http://www.opencpi.org>

OpenCPI is free software: you can redistribute it and/or modify it under the
terms of the GNU Lesser General Public License as published by the Free Software
Foundation, either version 3 of the License, or (at your option) any later
version.

OpenCPI is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License along
with this program. If not, see <http://www.gnu.org/licenses/>.
\fi

%----------------------------------------------------------------------------------------
% Update the docTitle and docVersion per document
%----------------------------------------------------------------------------------------
\def\docTitle{OpenCPI\\ HSMC Debug Header Breakout Stratix IV (alst4) Test App Guide}
\def\docVersion{1.5}
%----------------------------------------------------------------------------------------
\def\snippetpath{../../../../../doc/av/tex/snippets}
\input{\snippetpath/includes}
\input{LaTeX_Header}
\date{Version \docVersion} % Force date to be blank and override date with version
\title{\docTitle}
\lhead{HSMC Debug Header Breakout Stratix IV (alst4) Test App Guide}
%----------------------------------------------------------------------------------------
%\usepackage[T1]{fontenc} % http://tex.stackexchange.com/a/181119
\usepackage{graphicx}
\graphicspath{ {figures/} }
\usepackage{textcomp}
\usepackage{listings}

\begin{document}
\maketitle
%\thispagestyle{fancy}

\begin{center}
  \textit{\textbf{Revision History}}
  \begin{longtable}{|p{\dimexpr0.15\textwidth-2\tabcolsep\relax}
                    |p{\dimexpr0.65\textwidth-2\tabcolsep\relax}
                    |p{\dimexpr0.2\textwidth-2\tabcolsep\relax}|}
    \hline
    \rowcolor{blue}
    \textbf{Revision} & \textbf{Description of Change} & \textbf{Date} \\
    \hline
    v1.4 & Converted to application from unit test structure. & 9/2018 \\
    \hline
    v1.5 & Version bump only. & 4/2019 \\
    \hline
  \end{longtable}
\end{center}

\section{Description}
Intended to test HSMC slots on the alst4 platform.
\section{Hardware Setup}
x86 machine with the Stratix IV PCIE card with one of the HSMC slots populated with a Debug HSMC Card\cite{debugcard}.
\section{Prerequisites}
The empty assembly w/ both of the
\begin{itemize}
  \item cnt\_hsmc\_alst4\_debug\_header\_breakout\_card\_hsmc\_alst4\_a,
  \item cnt\_hsmc\_alst4\_debug\_header\_breakout\_card\_hsmc\_alst4\_b
\end{itemize}
containers must be built for the alst4 platform.
\section{Execution}
\subsection{OCPI\_LIBRARY\_PATH Requirements/Considerations}
The \verb+OCPI_LIBRARY_PATH+ environment variable must be set to \verb+<assets project directory>/artifacts+.
\subsection{Command(s)}
Execution must occur from within the hsmc\_debug\_header\_breakout\_test directory. \\
If HSMC Port A is populated:
\lstset{language=bash, backgroundcolor=\color{lightgray}, columns=flexible, breaklines=true, prebreak=\textbackslash, basicstyle=\ttfamily, showstringspaces=false,upquote=true, aboveskip=\baselineskip, belowskip=\baselineskip}
\begin{lstlisting}
./<target-dir>/hsmc_debug_header_breakout_test a
./<target-dir>/hsmc_debug_header_breakout_test a p # to prompt you before each LED
\end{lstlisting}
if HSMC Port B is populated:
\begin{lstlisting}
./<target-dir>/hsmc_debug_header_breakout_test b
./<target-dir>/hsmc_debug_header_breakout_test b p # to prompt you before each LED
\end{lstlisting}
\section{Verification}
Application exit status indicates \textit{completion} (status of 0 indicates completion, status of 1 indicates no completion), not whether or not the test was \textit{successful}. Test success is determined by visually inspecting LEDs while executing (verifying each LED transitions from OFF, RED, RED+GREEN, GREEN, OFF).

\begin{thebibliography}{1}

\bibitem{debugcard} Terasic - Components - Extras - HSMC Debug \& Loopback Connector Package
\url{https://www.terasic.com.tw/cgi-bin/page/archive.pl?Language=English&No=495}

\end{thebibliography}

\end{document}
